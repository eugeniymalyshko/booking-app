generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
	id Int @id @default(autoincrement())
	username String @unique
	password String
	createdAt DateTime @db.Timestamptz(3) @default(now())
}

model Guest {
	id Int @id @default(autoincrement())
	firstName String
	lastName String
	phone String
	tables Table []
	reservations Reservation[]
	createdAt DateTime @db.Timestamptz(3) @default(now())
}

model Table {
	id Int @id @default(autoincrement())
	label String
	capacity Int
	positionX Int
	positionY Int 
	guestId Int
	gues Guest @relation(fields: [guestId], references: [id])
	Reservation Reservation[]
}
model Reservation {
	id Int @id @default(autoincrement())
	firstName String
	lastName String
	guestId Int
	guest Guest @relation(fields: [guestId], references: [id]) 
	tableId Int
	table Table @relation(fields: [tableId], references: [id])
	startAt DateTime @db.Timestamptz(3)
	endAt DateTime? @db.Timestamptz(3)
	createdAt DateTime  @db.Timestamptz(3) @default(now())
}